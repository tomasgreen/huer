(function(){"use strict";function n(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function e(t){var n=!1,e="Webkit Moz ms O".split(" "),i=document.createElement("div"),o=null;if(t=t.toLowerCase(),void 0!==i.style[t]&&(n=!0),n===!1){o=t.charAt(0).toUpperCase()+t.substr(1);for(var r=0;r<e.length;r++)if(void 0!==i.style[e[r]+o]){n=!0;break}}return n}function i(t){return Array.prototype.slice.call(t,0)}function o(t){return parseInt(t,10)}function r(t,n,e,i){var o,r;n||(n={}),t.indexOf(".")!==-1&&(r=t.split("."),t=r[0],r.shift(),n.class=r.join(" ")),t.indexOf("#")!==-1&&(r=t.split("#"),t=r[0],n.id=r[1]),o=document.createElement(t);for(var s in n)o.setAttribute(s,n[s]);return e&&e.appendChild(o),i&&(o.innerHTML=i),o}function s(t,n){return!!(t&&n&&t.parentNode)&&(t===n||t.parentNode===n||s(t.parentNode,n))}function l(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):window.event&&window.event.hasOwnProperty("cancelBubble")&&(window.event.cancelBubble=!0)}function a(t,n){f(t,"click",n)}function c(t,n){v(t,"click",n)}function u(t,n){!t||0===t.length&&t!=window||(t.length?Array.prototype.forEach.call(t,function(t,e){n(t)}):n(t))}function d(t,n,e,i){var o=function(r){v(t,n,o,i),e(r)};f(t,n,o,i)}function f(t,n,e,i){void 0===i&&(i=!1),u(t,function(t){var o=n.split(" ");for(var r in o)t.addEventListener(o[r],e,i)})}function v(t,n,e,i){void 0===i&&(i=!1),u(t,function(t){var o=n.split(" ");for(var r in o)t.removeEventListener(o[r],e,i)})}function s(t,n){return!!(t&&n&&t.parentNode)&&(t===n||t.parentNode===n||s(t.parentNode,n))}function y(t,n){u(t,function(t){if(t.classList){var e=n.split(" ");for(var i in e)t.classList.add(e[i])}else t.className+=" "+n})}function p(t,n){u(t,function(t){if(t.classList){var e=n.split(" ");for(var i in e)t.classList.remove(e[i])}else t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")})}function h(t,n,e){u(t,function(t){t.setAttribute(n,e)})}function m(t){return t===Object(t)}function b(t){return"string"==typeof t}function g(){if(w>0)return w;var t=document.body||document.documentElement,e=r("div.huer-scrollbar-measure",null,t);return w=e.offsetWidth-e.clientWidth,n(e),w}var w,E="webkitAnimationEnd mozAnimationEnd msAnimationEnd oAnimationEnd animationend",C=("ontouchstart"in document.documentElement,"huer-"),O=C+"fade-in",k=C+"fade-out",A=C+"bounce-in",x=C+"zoom-out",N=C+"stop-scrolling",T=C+"container",z=C+"container-center",L=C+"container-center-forced",q=C+"body",R=C+"content-wrapper",S=C+"modal",P="tabindex",V={html:"Empty",showOnInit:!0,useEffects:!0,preventScroll:!0,destroyOnClick:!1,destroyOnEsc:!1,onFeatureFail:null,onDismiss:null,overlayClass:null,bodyClass:null,contentClass:null,forceCenter:!1,modal:!1},B=function(){var n,i=this;m(arguments[0])?n=arguments[0]:arguments[0]&&(n={html:arguments[0]}),i.element=document.body||document.documentElement,i.opt={},i.vars={},void 0===n&&(n={});for(var o in V)i.opt[o]=void 0!==n[o]?n[o]:V[o];var s={animation:e("animation"),transition:e("transition"),transform:e("transform"),filter:e("filter"),query:void 0!==document.querySelectorAll};if(s.animation&&s.transition&&s.transform||(i.opt.useEffects=!1),!s.query)return void(i.opt.onFeatureFail?i.opt.onFeatureFail(s):alert("Your browser is lacking certain features. Please update to a modern browser."));var l=r("div."+T),a=r("div."+q,null,l);i.opt.bodyClass&&y(a,i.opt.bodyClass),i.opt.modal&&y(a,S);var c=r("div."+R,null,a);i.opt.contentClass&&y(t,i.opt.contentClass),b(i.opt.html)?c.innerHTML=i.opt.html:c.appendChild(i.opt.html),i.container=l,i.body=a,i.element.appendChild(i.container),i.opt.showOnInit&&i.show(),i.click('[data-destroy="click"]',function(){i.isBusy()||i.destroy(i.opt.onDismiss)}),i.opt.forceCenter?y(i.container,L):(f(window,"resize",i.windowResize.bind(i)),i.windowResize())},F=B.prototype;F.windowResize=function(){this.body.offsetHeight>window.innerHeight?p(this.container,z):y(this.container,z)},F.show=function(t){var n=this;n.isVisible||(n.container.style.visibility="visible",n.toggleEffects(t),f(window,"keydown",n.vars.onKeydownEvent=n.onKeydown.bind(n)),n.focusElement(!0))},F.hide=function(t){v(window,"keydown",this.vars.onKeydownEvent),this.toggleEffects(t)},F.destroy=function(t){var e=this;e.hide(function(){t?t():e.opt.onDismiss&&e.opt.onDismiss(),n(e.container),D=null}),v(window,"resize",e.windowResize)},F.toggleScroll=function(t){var n=this;if(n.opt.preventScroll)if(t)p(n.element,N),n.element.style.paddingRight=n.vars.bodyPadding,n.element.style.top="",window.scrollTo(0,n.vars.scrollOffset),n.vars.scrollOffset=null;else{var e=n.element.scrollTop||document.documentElement.scrollTop;n.vars.scrollOffset=e,n.element.style.top=e*-1+"px",n.vars.bodyPadding=n.element.style.paddingRight,n.element.style.paddingRight=o(n.vars.bodyPadding)+o(g())+"px",y(n.element,N)}},F.toggleEffects=function(t){var n=this;return n.opt.useEffects?void(n.isVisible?(d(n.body,E,function(){p(n.container,k),p(n.body,x),n.container.style.visibility="hidden",n.toggleScroll(!0),n.isVisible=!1,t&&t()}),y(n.container,k),y(n.body,x),n.toggleOverlayClick()):(d(n.body,E,function(){p(n.container,O),p(n.body,A),n.isVisible=!0,n.toggleOverlayClick(),t&&t()}),n.toggleScroll(!1),y(n.container,O),y(n.body,A))):(n.toggleScroll(n.isVisible),n.isVisible=!0,void(t&&t()))},F.onOverlayClick=function(t){this.isVisible&&this.opt.destroyOnClick&&!this.isBusy()&!s(t.target,this.body)&&this.destroy()},F.toggleOverlayClick=function(){var t=this;setTimeout(function(){t.vars.onOverlayClickEvent?(c(t.container,t.vars.onOverlayClickEvent),t.vars.onOverlayClickEvent=null):a(t.container,t.vars.onOverlayClickEvent=t.onOverlayClick.bind(t))},0)},F.onKeydown=function(t){var n=t.keyCode||t.which,e=t.target||t.srcElement;if([9,13,32,27].indexOf(n)===-1){if(!s(e,this.body))return}else 27===n&&this.opt.destroyOnEsc&&!this.isBusy()?this.destroy():9===n&&(l(t),this.focusElement());return!0},F.focusElement=function(t){t&&(this.lastTabindex=null);var n=this.query("["+P+"]");if(!n.length)return void this.container.focus();if(n=i(n),n.sort(function(t,n){return t.getAttribute&&n.getAttribute?o(t.getAttribute(P))-o(n.getAttribute(P)):-1}),this.lastTabindex)for(var e=0;e<n.length;e++)if(n[e].getAttribute(P)==this.lastTabindex&&e<n.length-1)return n[e+1].focus(),void(this.lastTabindex=n[e+1].getAttribute(P));n[0].focus(),this.lastTabindex=n[0].getAttribute(P)},F.getHtml=function(){return this.container},F.query=function(t){return i(this.container.querySelectorAll(t))},F.click=function(t,n){b(t)&&(t=this.query(t)),a(t,n)},F.attr=function(t,n,e){b(t)&&(t=this.query(t)),h(i(t),n,e)},F.isBusy=function(t){return void 0===t||t!==!0&&t!==!1||(this.busy=t),this.busy||!1};var D=null;this.huer=function(t){return D&&D.destroy(),D=new B(t)},this.huer.globals=V}).call(this),function(){"use strict"}.call(this);